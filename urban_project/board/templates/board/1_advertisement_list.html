{% extends 'base.html' %}

{% block content %}
<h1>–û–±—ä—è–≤–ª–µ–Ω–∏—è</h1>

<!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
{% if user.is_authenticated %}
<a href="{% url 'board:add_advertisement' %}">
    <button>–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
</a>
{% endif %}

<!-- –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π -->
<ul>
    {% for advertisement in advertisements_page %}
    <li>
        <a href="{% url 'board:advertisement_detail' pk=advertisement.pk %}"> –¢–ï–ú–ê –æ–±—å—è–≤–ª–µ–Ω–∏—è: {{ advertisement.title }}</a>
        <p>  –ê–í–¢–û–†: {{advertisement.author}} ! like: {{advertisement.num_vote_up}} dislike {{advertisement.num_vote_down}} <p>
         <div class="vote-buttons" style="display: flex; gap: 10px; align-items: center;">
                <form action="{% url 'board:vote' advertisement.id 'up' %}" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="id" value="{{ advertisement.id }}" />
                    <button type="submit" class="btn-like">üëç</button>
                </form>
                <form action="{% url 'board:vote' advertisement.id 'down' %}" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="id" value="{{ advertisement.id }}" />
                    <button type="submit" class="btn-dislike">üëé</button>
                </form>
        </div>
    </li>
    {% endfor %}
</ul>

<!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<div class="pagination">
  <span class="step-links">
    <!-- –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    {% if advertisements_page.has_previous %}
      <a href="?page=1">&laquo; –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      <a href="?page={{ advertisements_page.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
    {% endif %}

      <!-- –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <span class="current">
      –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ advertisements_page.number }} –∏–∑ {{ advertisements_page.paginator.num_pages }}.
    </span>

      <!-- –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    {% if advertisements_page.has_next %}
      <a href="?page={{ advertisements_page.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      <a href="?page={{ advertisements_page.paginator.num_pages }}">–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ &raquo;</a>
    {% endif %}
  </span>
</div>
{% endblock %}