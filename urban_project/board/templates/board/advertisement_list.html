{% extends 'base.html' %}
{% load vote %}
{% block content %}

<h1>–û–±—ä—è–≤–ª–µ–Ω–∏—è</h1>
{% if user.is_authenticated %}
<a href="{% url 'board:add_advertisement' %}">
    <button>–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
</a>
{% endif %}

<!-- announcement_list.html -->
<div class="advertisements">
    {% for advertisement in advertisements %}
        <div class="advertisement">
            <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <a href="{% url 'board:advertisement_detail' pk=advertisement.pk %}" class="advertisement-title">
                –¢–ï–ú–ê –æ–±—å—è–≤–ª–µ–Ω–∏—è: {{ advertisement.title }} ! –ê–í–¢–û–†: {{advertisement.author}} ! like: {{advertisement.num_vote_up}} dislike {{advertisement.num_vote_down}}
            </a>
<div class="vote-buttons" style="display: flex; gap: 10px; align-items: center;">
            <!-- –§–æ—Ä–º—ã –¥–ª—è –ª–∞–π–∫–∞/–¥–∏–∑–ª–∞–π–∫–∞ -->
            <form action="{% url 'board:vote' advertisement.id 'up' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="id" value="{{ advertisement.id }}" />
                <button type="submit" class="btn-like">üëç</button>
            </form>
            <form action="{% url 'board:vote' advertisement.id 'down' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="id" value="{{ advertisement.id }}" />
                <button type="submit" class="btn-dislike">üëé</button>
            </form>
        </div>
    {% endfor %}
</div>


<!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<div class="pagination">
  <span class="step-links">
    <!-- –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    {% if advertisements_page.has_previous %}
      <a href="?page=1">&laquo; –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      <a href="?page={{ advertisements_page.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
    {% endif %}

      <!-- –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <span class="current">
      –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ advertisements_page.number }} –∏–∑ {{ advertisements_page.paginator.num_pages }}.
    </span>

      <!-- –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    {% if advertisements_page.has_next %}
      <a href="?page={{ advertisements_page.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
      <a href="?page={{ advertisements_page.paginator.num_pages }}">–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ &raquo;</a>
    {% endif %}
  </span>
</div>

{% endblock %}